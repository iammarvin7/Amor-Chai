(()=>{var e={};e.id=877,e.ids=[877],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},1764:e=>{"use strict";e.exports=require("util")},6745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{POST:()=>d});var o=r(2412),s=r(4293),a=r(4147),i=r(7856);r(9025);var c=r(2265);r(1678);var u=r(4635);async function d(e){let t;let r=await e.text(),n=(0,c.A)().get("Stripe-Signature"),o=process.env.STRIPE_WEBHOOK_SECRET;if(!n||!o)return i.NextResponse.json({error:"Webhook secret or signature not found."},{status:400});try{t=u.Z.webhooks.constructEvent(r,n,o)}catch(e){return console.error(`Webhook signature verification failed: ${e.message}`),i.NextResponse.json({error:`Webhook error: ${e.message}`},{status:400})}switch(t.type){case"checkout.session.completed":let s=t.data.object;console.log(`Checkout session completed for session ID: ${s.id}`);break;case"checkout.session.expired":let a=t.data.object;console.log(`Checkout session expired for session ID: ${a.id}`);break;case"payment_intent.succeeded":let d=t.data.object;console.log(`PaymentIntent succeeded for ID: ${d.id}`);break;case"payment_intent.payment_failed":let l=t.data.object,p=l.last_payment_error?.message;console.log(`PaymentIntent failed for ID: ${l.id}. Reason: ${p}`);break;default:console.log(`Unhandled event type: ${t.type}`)}return i.NextResponse.json({received:!0})}let l=new o.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/webhooks/route",pathname:"/api/webhooks",filename:"route",bundlePath:"app/api/webhooks/route"},resolvedPagePath:"/Users/marvinchaudhary/Desktop/Codes/REACT/Amor_Chai_website/amor-chai-website/app/api/webhooks/route.js",nextConfigOutput:"",userland:n}),{workAsyncStorage:p,workUnitAsyncStorage:f,serverHooks:h}=l;function y(){return(0,a.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:f})}},5303:()=>{},5730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return a}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(2052));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}let s={current:null};function a(e){return function(...t){console.error(e(...t))}}("function"==typeof n.cache?n.cache:e=>e)(e=>{try{console.error(s.current)}finally{s.current=null}})},9025:(e,t,r)=>{"use strict";r(3930),r(7722),r(9348),r(412),r(3887),r(8749);let n=r(2030),o=(r(6524),r(5730)),s=new WeakMap;function a(){return this.getAll().map(e=>[e.name,e]).values()}function i(e){for(let e of this.getAll())this.delete(e.name);return e}(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e){let t=e?` In route ${e} `:"";return Error(`${t}cookies were iterated over. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}),(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?` In route ${e} a `:"A ";return Error(`${r}cookie property was accessed directly with \`${t}\`. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},1678:(e,t,r)=>{"use strict";let n=r(412),o=r(9348),s=r(3887),a=r(5730),i=r(8749),c=r(1513);new WeakMap;class u{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){d("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){d("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}function d(e){let t=o.workAsyncStorage.getStore(),r=n.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===r.type)throw Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(t.dynamicShouldError)throw new i.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(r){if("prerender"===r.type){let n=Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,n,r)}else if("prerender-ppr"===r.type)(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let n=new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?` In route ${e} a `:"A ";return Error(`${r}\`draftMode()\` property was accessed directly with \`${t}\`. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/draft-mode-sync-access`)})},2265:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return l}});let n=r(8574),o=r(9348),s=r(412),a=r(3887),i=r(8749),c=r(2030),u=r(6524),d=r(5730);function l(){let e=o.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();if(e){if(e.forceStatic)return f(n.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if("after"===t.phase)throw Error(`Route ${e.route} used "headers" inside "unstable_after(...)". This is not supported. If you need this data inside an "unstable_after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/unstable_after`)}if(e.dynamicShouldError)throw new i.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return function(e,t){let r=p.get(t);if(r)return r;let n=(0,u.makeHangingPromise)(t.renderSignal,"`headers()`");return p.set(t,n),Object.defineProperties(n,{append:{value:function(){let r=`headers().append(${h(arguments[0])}, ...)`,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},delete:{value:function(){let r=`headers().delete(${h(arguments[0])})`,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},get:{value:function(){let r=`headers().get(${h(arguments[0])})`,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},has:{value:function(){let r=`headers().has(${h(arguments[0])})`,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},set:{value:function(){let r=`headers().set(${h(arguments[0])}, ...)`,n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},getSetCookie:{value:function(){let r="headers().getSetCookie()",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},forEach:{value:function(){let r="headers().forEach(...)",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},keys:{value:function(){let r="headers().keys()",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},values:{value:function(){let r="headers().values()",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},entries:{value:function(){let r="headers().entries()",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}},[Symbol.iterator]:{value:function(){let r="headers()[Symbol.iterator]()",n=y(e,r);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}}}),n}(e.route,t);"prerender-ppr"===t.type?(0,a.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,a.throwToInterruptStaticGeneration)("headers",e,t)}(0,a.trackDynamicDataInDynamicRender)(e,t)}return f((0,s.getExpectedRequestStore)("headers").headers)}let p=new WeakMap;function f(e){let t=p.get(e);if(t)return t;let r=(0,c.makeResolvedReactPromise)(e);return p.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function h(e){return"string"==typeof e?`'${e}'`:"..."}function y(e,t){return Error(`Route "${e}" used ${t}. \`headers()\` now returns a Promise and should be \`awaited\` before using it's value. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`)}(0,d.createDedupedByCallsiteServerErrorLoggerDev)(function(e){let t=e?` In route ${e} `:"";return Error(`${t}headers were iterated over. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}),(0,d.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?` In route ${e} a `:"A ";return Error(`${r}header property was accessed directly with \`${t}\`. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},2030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return i},describeStringPropertyAccess:function(){return a},makeResolvedReactPromise:function(){return o},throwWithStaticGenerationBailoutError:function(){return c},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return u},wellKnownProperties:function(){return d}});let n=r(8749);function o(e){let t=Promise.resolve(e);return t.status="fulfilled",t.value=e,t}let s=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function a(e,t){return s.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function i(e,t){let r=JSON.stringify(t);return`\`Reflect.has(${e}, ${r})\`, \`${r} in ${e}\`, or similar`}function c(e,t){throw new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function u(e,t){throw new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}let d=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","toJSON","$$typeof","__esModule"])},8574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return o}});let n=r(1152);class o extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new o}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,o){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,o);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==a)return n.ReflectAdapter.get(t,a,o)},set(t,r,o,s){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,o,s);let a=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===a);return n.ReflectAdapter.set(t,i??r,o,s)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return void 0!==s&&n.ReflectAdapter.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return void 0===s||n.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return o.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},3930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return i},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return l},areCookiesMutableInCurrentPhase:function(){return h},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return g},wrapWithMutableAccessCheck:function(){return f}});let n=r(7722),o=r(1152),s=r(9348),a=r(412);class i extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new i}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return i.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function d(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function l(e,t){let r=d(t);if(0===r.length)return!1;let o=new n.ResponseCookies(e),s=o.getAll();for(let e of r)o.set(e);for(let e of s)o.set(e);return!0}class p{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],i=new Set,c=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),a=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of a){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},d=new Proxy(r,{get(e,t,r){switch(t){case u:return a;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),d}finally{c()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),d}finally{c()}};default:return o.ReflectAdapter.get(e,t,r)}}});return d}}function f(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return y("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return y("cookies().set"),e.set(...r),t};default:return o.ReflectAdapter.get(e,r,n)}}});return t}function h(e){return"action"===e.phase}function y(e){if(!h((0,a.getExpectedRequestStore)(e)))throw new i}function g(e){let t=new n.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},4635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(2895);let o=process.env.STRIPE_SECRET_KEY;if(!o)throw console.error("ERROR: Stripe secret key not found. Please set STRIPE_SECRET_KEY in your .env.local file."),Error("Stripe secret key is not configured.");let s=new n.Z(o,{appInfo:{name:"amor-chai-website-connect-marketplace",version:"0.1.0"}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[147,886,856],()=>r(6745));module.exports=n})();