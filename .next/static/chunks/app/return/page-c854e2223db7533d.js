(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{3645:(e,t,r)=>{Promise.resolve().then(r.bind(r,1015))},1015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(7437),n=r(2265),a=r(6463),l=r(7138);let i=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center text-center p-4",children:(0,s.jsx)("div",{className:"bg-white p-8 sm:p-12 rounded-lg shadow-lg max-w-md w-full",children:t})})},c=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto mb-6 w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-3",children:"Order Confirmed!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Thank you for your purchase! We've received your order and are getting it ready."}),(0,s.jsx)(l.default,{href:"/products",className:"bg-brand-pink2 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity",children:"Continue Shopping"})]}),o=e=>{let{message:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:t}),(0,s.jsx)("p",{className:"text-gray-600",children:"Please wait while we confirm your payment."})]})},d=e=>{let{message:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto mb-6 w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-3",children:"Payment Failed"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:t}),(0,s.jsx)(l.default,{href:"/checkout",className:"bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity",children:"Try Again"})]})};function u(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)("Loading..."),u=(0,a.useSearchParams)(),h=null==u?void 0:u.get("payment_intent_client_secret");return((0,n.useEffect)(()=>{if(!h){t("error"),l("Could not find payment details. Please contact us if you have been charged.");return}fetch("/api/payment-intent-status?payment_intent_client_secret=".concat(h)).then(e=>e.json()).then(e=>{e.error?(t("error"),l(e.error)):t(e.status)}).catch(()=>{t("error"),l("An error occurred while checking payment status.")})},[h]),"succeeded"===e)?(0,s.jsx)(i,{children:(0,s.jsx)(c,{})}):"processing"===e?(0,s.jsx)(i,{children:(0,s.jsx)(o,{message:"Payment Processing"})}):"requires_payment_method"===e||"error"===e?(0,s.jsx)(i,{children:(0,s.jsx)(d,{message:r||"Your payment was not successful. Please try again."})}):(0,s.jsx)(i,{children:(0,s.jsx)(o,{message:r})})}function h(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(i,{children:(0,s.jsx)(o,{message:"Loading..."})}),children:(0,s.jsx)(u,{})})}},7138:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(231),n=r.n(s)},6463:(e,t,r)=>{"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var t=t=>e(e.s=t);e.O(0,[231,130,215,744],()=>t(3645)),_N_E=e.O()}]);